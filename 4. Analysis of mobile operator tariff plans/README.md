# Анализ тарифных планов оператора мобильной связи.

<h1>Оглавление:<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><ul class="toc-item"><li><span><a href="#Описание-проекта:" data-toc-modified-id="Описание-проекта:-0.1"><span class="toc-item-num">0.1&nbsp;&nbsp;</span>Описание проекта:</a></span></li><li><span><a href="#Описание-тарифов:" data-toc-modified-id="Описание-тарифов:-0.2"><span class="toc-item-num">0.2&nbsp;&nbsp;</span>Описание тарифов:</a></span></li><li><span><a href="#Описание-данных:" data-toc-modified-id="Описание-данных:-0.3"><span class="toc-item-num">0.3&nbsp;&nbsp;</span>Описание данных:</a></span></li></ul></li><li><span><a href="#Шаг-1.-Импортирую-необходимые-библиотеки,-открываю-файлы-с-данными-и-изучаю-общую-информацию." data-toc-modified-id="Шаг-1.-Импортирую-необходимые-библиотеки,-открываю-файлы-с-данными-и-изучаю-общую-информацию.-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Шаг 1. Импортирую необходимые библиотеки, открываю файлы с данными и изучаю общую информацию.</a></span><ul class="toc-item"><li><span><a href="#Вывод:" data-toc-modified-id="Вывод:-1.1"><span class="toc-item-num">1.1&nbsp;&nbsp;</span>Вывод:</a></span></li></ul></li><li><span><a href="#Шаг-2.-Подготовка-данных." data-toc-modified-id="Шаг-2.-Подготовка-данных.-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Шаг 2. Подготовка данных.</a></span><ul class="toc-item"><li><span><a href="#Создаю-столбцы-с-месяцами." data-toc-modified-id="Создаю-столбцы-с-месяцами.-2.1"><span class="toc-item-num">2.1&nbsp;&nbsp;</span>Создаю столбцы с месяцами.</a></span></li><li><span><a href="#Округляю-звонки-в-большую-сторону-и-в-датасете-с-интернет-трафиком-перевожу-мб-в-гб." data-toc-modified-id="Округляю-звонки-в-большую-сторону-и-в-датасете-с-интернет-трафиком-перевожу-мб-в-гб.-2.2"><span class="toc-item-num">2.2&nbsp;&nbsp;</span>Округляю звонки в большую сторону и в датасете с интернет-трафиком перевожу мб в гб.</a></span></li><li><span><a href="#Считаю-для-каждого-пользователя-количество-сделанных-звонков-и-израсходованных-минут-разговора-по-месяцам." data-toc-modified-id="Считаю-для-каждого-пользователя-количество-сделанных-звонков-и-израсходованных-минут-разговора-по-месяцам.-2.3"><span class="toc-item-num">2.3&nbsp;&nbsp;</span>Считаю для каждого пользователя количество сделанных звонков и израсходованных минут разговора по месяцам.</a></span></li><li><span><a href="#Считаю-для-каждого-пользователя-количество-отправленных-сообщений-по-месяцам." data-toc-modified-id="Считаю-для-каждого-пользователя-количество-отправленных-сообщений-по-месяцам.-2.4"><span class="toc-item-num">2.4&nbsp;&nbsp;</span>Считаю для каждого пользователя количество отправленных сообщений по месяцам.</a></span></li><li><span><a href="#Считаю-для-каждого-пользователя-объем-израсходованного-интернет-трафика-по-месяцам." data-toc-modified-id="Считаю-для-каждого-пользователя-объем-израсходованного-интернет-трафика-по-месяцам.-2.5"><span class="toc-item-num">2.5&nbsp;&nbsp;</span>Считаю для каждого пользователя объем израсходованного интернет-трафика по месяцам.</a></span></li><li><span><a href="#Объединяю-данные-о-звонках,-сообщениях-и-интернет-трафике-в-одну-сводную-таблицу." data-toc-modified-id="Объединяю-данные-о-звонках,-сообщениях-и-интернет-трафике-в-одну-сводную-таблицу.-2.6"><span class="toc-item-num">2.6&nbsp;&nbsp;</span>Объединяю данные о звонках, сообщениях и интернет-трафике в одну сводную таблицу.</a></span></li><li><span><a href="#Считаю-помесячную-выручку-с-каждого-пользователя." data-toc-modified-id="Считаю-помесячную-выручку-с-каждого-пользователя.-2.7"><span class="toc-item-num">2.7&nbsp;&nbsp;</span>Считаю помесячную выручку с каждого пользователя.</a></span></li></ul></li><li><span><a href="#Шаг-3.-Анализ-данных." data-toc-modified-id="Шаг-3.-Анализ-данных.-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Шаг 3. Анализ данных.</a></span><ul class="toc-item"><li><span><a href="#Считаю-для-столбцов-calls_duration,-gb_used,-messages_used-и-total_costs-среднее-значение,-медианное-значение,-дисперсию,-стандартное-отклонение-и-строю-гистограммы." data-toc-modified-id="Считаю-для-столбцов-calls_duration,-gb_used,-messages_used-и-total_costs-среднее-значение,-медианное-значение,-дисперсию,-стандартное-отклонение-и-строю-гистограммы.-3.1"><span class="toc-item-num">3.1&nbsp;&nbsp;</span>Считаю для столбцов <strong><code>calls_duration</code></strong>, <strong><code>gb_used</code></strong>, <strong><code>messages_used</code></strong> и <strong><code>total_costs</code></strong> среднее значение, медианное значение, дисперсию, стандартное отклонение и строю гистограммы.</a></span></li></ul></li><li><span><a href="#Шаг-4.-Проверка-гипотез." data-toc-modified-id="Шаг-4.-Проверка-гипотез.-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>Шаг 4. Проверка гипотез.</a></span><ul class="toc-item"><li><span><a href="#Первая-гипотеза:" data-toc-modified-id="Первая-гипотеза:-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>Первая гипотеза:</a></span></li><li><span><a href="#Вторая-гипотеза:" data-toc-modified-id="Вторая-гипотеза:-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>Вторая гипотеза:</a></span></li></ul></li><li><span><a href="#Общий-вывод." data-toc-modified-id="Общий-вывод.-5"><span class="toc-item-num">5&nbsp;&nbsp;</span>Общий вывод.</a></span><ul class="toc-item"><li><span><a href="#Рекомендации:" data-toc-modified-id="Рекомендации:-5.1"><span class="toc-item-num">5.1&nbsp;&nbsp;</span>Рекомендации:</a></span></li></ul></li></ul></div>

### Описание проекта:
Федеральный оператора мобильной связи предлагает клиентам два тарифных плана: «Смарт» и «Ультра». Чтобы скорректировать рекламный бюджет, коммерческий департамент хочет понять, какой тариф приносит больше денег.
Нужно сделать предварительный анализ тарифов на небольшой выборке клиентов. В моем распоряжении данные 500 пользователей: кто они, откуда, каким тарифом пользуются, сколько звонков и сообщений каждый отправил за 2018 год. Нужно проанализировать поведение клиентов и сделать вывод - какой тариф лучше.

### Описание тарифов:
**Тариф «Смарт»**
1. Ежемесячная плата: 550 рублей
2. Включено 500 минут разговора, 50 сообщений и 15 Гб интернет-трафика
3. Стоимость услуг сверх тарифного пакета:
  * минута разговора: 3 рубля
  * сообщение: 3 рубля
  * 1 Гб интернет-трафика: 200 рублей
   
**Тариф «Ультра»**
1. Ежемесячная плата: 1950 рублей
2. Включено 3000 минут разговора, 1000 сообщений и 30 Гб интернет-трафика
3. Стоимость услуг сверх тарифного пакета:
  * минута разговора: 1 рубль
  * сообщение: 1 рубль
  * 1 Гб интернет-трафика: 150 рублей

**Примечание:**

Данный оператор мобильной связи всегда округляет секунды до минут, а мегабайты - до гигабайт. Каждый звонок округляется отдельно: даже если он длился всего 1 секунду, будет засчитан как 1 минута.
Для веб-трафика отдельные сессии не считаются. Вместо этого общая сумма за месяц округляется в бо́льшую сторону. Если абонент использует 1025 мегабайт в этом месяце, с него возьмут плату за 2 гигабайта.

### Описание данных:
Датасет `users` (информация о пользователях) содержит:
- **`user_id`** - уникальный идентификатор пользователя;
- **`first_name`** -— имя пользователя;
- **`last_name`** - фамилия пользователя;
- **`age`** - возраст пользователя (годы);
- **`reg_date`** - дата подключения тарифа (день, месяц, год);
- **`churn_date`** - дата прекращения пользования тарифом (если значение пропущено, то тариф ещё действовал на момент выгрузки данных);
- **`city`** - город проживания пользователя;
- **`tariff`** - название тарифного плана.

Датасет `calls` (информация о звонках) содержит:
- **`id`** - уникальный номер звонка;
- **`call_date`** - дата звонка;
- **`duration`** - длительность звонка в минутах;
- **`user_id`** - идентификатор пользователя, сделавшего звонок.

Датасет `messages` (информация о сообщениях) содержит:
- **`id`** - уникальный номер сообщения;
- **`message_date`** - дата сообщения;
- **`user_id`** - идентификатор пользователя, отправившего сообщение.

Датасет `internet` (информация об интернет-сессиях) содержит:
- **`id`** - уникальный номер сессии;
- **`mb_used`** - объём потраченного за сессию интернет-трафика (в мегабайтах);
- **`session_date`** - дата интернет-сессии;
- **`user_id`** - идентификатор пользователя.

Датасет `tariffs` (информация о тарифах) содержит:
- **`tariff_name`** - название тарифа;
- **`rub_monthly_fee`** - ежемесячная абонентская плата в рублях;
- **`minutes_included`** - количество минут разговора в месяц, включённых в абонентскую плату;
- **`messages_included`** - количество сообщений в месяц, включённых в абонентскую плату;
- **`mb_per_month_included`** - объём интернет-трафика, включённого в абонентскую плату (в мегабайтах);
- **`rub_per_minute`** - стоимость минуты разговора сверх тарифного пакета (например, если в тарифе 100 минут разговора в месяц, то со 101 минуты будет взиматься плата);
- **`rub_per_message`** - стоимость отправки сообщения сверх тарифного пакета;
- **`rub_per_gb`** - стоимость дополнительного гигабайта интернет-трафика сверх тарифного пакета (1 гигабайт = 1024 мегабайта).
***
## Общий вывод.
Полученные от оператора мобильной связи данные, очень хорошего качества, без аномалий и артефактов. Я посчитал по месяцам все ресурсы используемые каждым пользователем, объединил все в одну сводную таблицу и посчитал помесячную выручку с каждого пользователя. После чего приступил к анализу. 

Посчитал для звонков, интернет трафика, сообщений и полной суммы трат пользователя по месяцам, среднее значение, медианное значение, дисперсию и стандартное отклонение, а также построил гистограммы. 
Выяснилось что пользователи тарифа **«Ультра»** практически не выходят за рамки тарифа, в то время как более половины пользователей тарифа **«Смарт»** существенно превышают лимит своего тарифного плана. Почти половине пользователей тарифа **«Смарт»** не хватает лимита в 500 минут, а вот 3000 минут тарифа **«Ультра»** всегда хватает с головой. С сообщениями и интернет трафиком дела обстоят примерно так же, только даже среди пользователей тарифа **«Ультра»**, находятся те, кому не хватает лимита в 30 гб, их немного и это единственное за что переплачивают в данном тарифе. В основном, пользователи тарифа **«Смарт»** превышают лимит по объему интернет трафика, а пользователи тарифа **«Ультра»** лимит не превышают. 

Тариф **«Ультра»** в среднем и по медиане приносит примерно на 1000р больше чем тариф **«Смарт»**, несмотря на то, что у тарифа **«Смарт»** очень большое стандартное отклонение цены (741р), что также говорит о большом разбросе в оплате пользователями.
Также в ходе анализа я проверил две гипотезы и дополнительно опроверг, что средняя выручка пользователей разных тарифов равна, а так же с большой вероятностью можно сказать, что средняя выручка пользователей из Москвы равна выручке пользователей из других городов.

### Рекомендации:
В среднем тариф **«Ультра»** приносит большую выручку, чем тариф **«Смарт»** Я рекомендую скорректировать рекламный бюджет в его пользу.
