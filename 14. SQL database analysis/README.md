# Анализ базы данных.

<h1>Оглавление:<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><ul class="toc-item"><li><span><a href="#Описание-проекта:" data-toc-modified-id="Описание-проекта:-0.1"><span class="toc-item-num">0.1&nbsp;&nbsp;</span>Описание проекта:</a></span></li><li><span><a href="#Описание-данных:" data-toc-modified-id="Описание-данных:-0.2"><span class="toc-item-num">0.2&nbsp;&nbsp;</span>Описание данных:</a></span></li><li><span><a href="#Схема-данных:" data-toc-modified-id="Схема-данных:-0.3"><span class="toc-item-num">0.3&nbsp;&nbsp;</span>Схема данных:</a></span></li><li><span><a href="#Задания:" data-toc-modified-id="Задания:-0.4"><span class="toc-item-num">0.4&nbsp;&nbsp;</span>Задания:</a></span></li></ul></li><li><span><a href="#Импортирую-необходимые-библиотеки:" data-toc-modified-id="Импортирую-необходимые-библиотеки:-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Импортирую необходимые библиотеки:</a></span></li><li><span><a href="#Устанавливаю-параметры:" data-toc-modified-id="Устанавливаю-параметры:-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Устанавливаю параметры:</a></span></li><li><span><a href="#Изучаю-общую-информацию." data-toc-modified-id="Изучаю-общую-информацию.-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Изучаю общую информацию.</a></span><ul class="toc-item"><li><span><a href="#Вывод:" data-toc-modified-id="Вывод:-3.1"><span class="toc-item-num">3.1&nbsp;&nbsp;</span>Вывод:</a></span></li></ul></li><li><span><a href="#Провожу-исследовательский-анализ-данных-(EDA)." data-toc-modified-id="Провожу-исследовательский-анализ-данных-(EDA).-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>Провожу исследовательский анализ данных (EDA).</a></span><ul class="toc-item"><li><span><a href="#Считаю,-сколько-книг-вышло-после-1-января-2000-года." data-toc-modified-id="Считаю,-сколько-книг-вышло-после-1-января-2000-года.-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>Считаю, сколько книг вышло после 1 января 2000 года.</a></span></li><li><span><a href="#Для-каждой-книги-считаю-количество-обзоров-и-среднюю-оценку." data-toc-modified-id="Для-каждой-книги-считаю-количество-обзоров-и-среднюю-оценку.-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>Для каждой книги считаю количество обзоров и среднюю оценку.</a></span></li><li><span><a href="#Определяю-издательство,-которое-выпустило-наибольшее-число-книг-толще-50-страниц." data-toc-modified-id="Определяю-издательство,-которое-выпустило-наибольшее-число-книг-толще-50-страниц.-4.3"><span class="toc-item-num">4.3&nbsp;&nbsp;</span>Определяю издательство, которое выпустило наибольшее число книг толще 50 страниц.</a></span></li><li><span><a href="#Определяю-автора-с-самой-высокой-средней-оценкой-книг---учитывая-только-книги-с-50-и-более-оценками." data-toc-modified-id="Определяю-автора-с-самой-высокой-средней-оценкой-книг---учитывая-только-книги-с-50-и-более-оценками.-4.4"><span class="toc-item-num">4.4&nbsp;&nbsp;</span>Определяю автора с самой высокой средней оценкой книг - учитывая только книги с 50 и более оценками.</a></span></li><li><span><a href="#Считаю-среднее-количество-обзоров-от-пользователей,-которые-поставили-больше-50-оценок." data-toc-modified-id="Считаю-среднее-количество-обзоров-от-пользователей,-которые-поставили-больше-50-оценок.-4.5"><span class="toc-item-num">4.5&nbsp;&nbsp;</span>Считаю среднее количество обзоров от пользователей, которые поставили больше 50 оценок.</a></span></li></ul></li><li><span><a href="#Вывод:" data-toc-modified-id="Вывод:-5"><span class="toc-item-num">5&nbsp;&nbsp;</span>Вывод:</a></span></li></ul></div>

### Описание проекта:
Коронавирус застал мир врасплох, изменив привычный порядок вещей. В свободное время жители городов больше не выходят на улицу, не посещают кафе и торговые центры. Зато стало больше времени для книг. Это заметили стартаперы - и бросились создавать приложения для тех, кто любит читать.
Ваша компания решила быть на волне и купила крупный сервис для чтения книг по подписке. Задача - проанализировать базу данных. В ней - информация о книгах, издательствах, авторах, а также пользовательские обзоры книг. Эти данные помогут сформулировать ценностное предложение для нового продукта.

### Описание данных:
Таблица `books`, содержит данные о книгах:  
- **`book_id`** - идентификатор книги;
- **`author_id`** - идентификатор автора;
- **`title`** - название книги;
- **`num_pages`** - количество страниц;
- **`publication_date`** - дата публикации книги;
- **`publisher_id`** - идентификатор издателя.

Таблица `authors`, содержит данные об авторах:   
- **`author_id`** - идентификатор автора;
- **`author`** - имя автора.

Таблица `publishers`, содержит данные об издательствах:
- **`publisher_id`** - идентификатор издательства;
- **`publisher`** - название издательства.

Таблица `ratings`, содержит данные о пользовательских оценках книг:
- **`rating_id`** - идентификатор оценки;
- **`book_id`** - идентификатор книги;
- **`username`** - имя пользователя, оставившего оценку;
- **`rating`** - оценка книги.

Таблица `reviews`, содержит данные о пользовательских обзорах:
- **`review_id`** - идентификатор обзора;
- **`book_id`** - идентификатор книги;
- **`username`** - имя автора обзора;
- **`text`** - текст обзора.

### Схема данных:
![jupyter](https://pictures.s3.yandex.net/resources/scheme_1589269096.png)

### Задания:
- Посчитайте, сколько книг вышло после 1 января 2000 года;
- Для каждой книги посчитайте количество обзоров и среднюю оценку;
- Определите издательство, которое выпустило наибольшее число книг толще 50 страниц - так вы исключите из анализа брошюры;
- Определите автора с самой высокой средней оценкой книг - учитывайте только книги с 50 и более оценками;
- Посчитайте среднее количество обзоров от пользователей, которые поставили больше 50 оценок.
***
## Вывод:
Я подключился к базе данных PostgreSQL и изучил основную информацию таблиц: `books`, `authors`, `publishers`, `ratings`, `reviews`:

В пяти имеющихся таблицах пропущенных значений и явных дубликатов нет. Типы данных соответствуют содержимому столбцов. Данные изначально очень хорошего качества. 

Исследовательский анализ данных показал, что:
- После 1 января 2000 года вышла **821** книга;
- Наибольшее число книг толще 50 страниц выпустило издательство **Penguin Books**. Количество книг - **42**;
- Автор с самой высокой средней оценкой книг, учитывая только книги с 50 и более оценками - **J.K. Rowling/Mary GrandPré**. Средняя оценка - **4.28**;
- В среднем количество обзоров от пользователей, которые поставили больше 50 оценок - **24**.

А также установил для каждой книги количество обзоров и среднюю оценку.
