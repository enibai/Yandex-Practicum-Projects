# Анализ рекламных источников мобильной игры.

<h1>Оглавление:<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><ul class="toc-item"><li><span><a href="#Описание-проекта:" data-toc-modified-id="Описание-проекта:-0.1"><span class="toc-item-num">0.1&nbsp;&nbsp;</span>Описание проекта:</a></span></li><li><span><a href="#Описание-данных:" data-toc-modified-id="Описание-данных:-0.2"><span class="toc-item-num">0.2&nbsp;&nbsp;</span>Описание данных:</a></span></li></ul></li><li><span><a href="#Шаг-1.-Импортирую-необходимые-библиотеки,-открываю-файлы-с-данными-и-изучаю-общую-информацию." data-toc-modified-id="Шаг-1.-Импортирую-необходимые-библиотеки,-открываю-файлы-с-данными-и-изучаю-общую-информацию.-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Шаг 1. Импортирую необходимые библиотеки, открываю файлы с данными и изучаю общую информацию.</a></span><ul class="toc-item"><li><span><a href="#Уточняю-детали-пропущенных-значений-в-столюце-building_type." data-toc-modified-id="Уточняю-детали-пропущенных-значений-в-столюце-building_type.-1.1"><span class="toc-item-num">1.1&nbsp;&nbsp;</span>Уточняю детали пропущенных значений в столюце <code>building_type</code>.</a></span></li><li><span><a href="#Удаляю-явный-дубликат.-А-также-добавляю-столбец-date." data-toc-modified-id="Удаляю-явный-дубликат.-А-также-добавляю-столбец-date.-1.2"><span class="toc-item-num">1.2&nbsp;&nbsp;</span>Удаляю явный дубликат. А также добавляю столбец <code>date</code>.</a></span></li><li><span><a href="#Смотрю-уникальные-каналы-привлечения." data-toc-modified-id="Смотрю-уникальные-каналы-привлечения.-1.3"><span class="toc-item-num">1.3&nbsp;&nbsp;</span>Смотрю уникальные каналы привлечения.</a></span></li><li><span><a href="#Вывод:" data-toc-modified-id="Вывод:-1.4"><span class="toc-item-num">1.4&nbsp;&nbsp;</span>Вывод:</a></span></li></ul></li><li><span><a href="#Шаг-2.-Провожу-исследовательский-анализ-данных-(EDA)." data-toc-modified-id="Шаг-2.-Провожу-исследовательский-анализ-данных-(EDA).-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Шаг 2. Провожу исследовательский анализ данных (EDA).</a></span><ul class="toc-item"><li><span><a href="#Определяю-минимальную-и-максимальную-дату-привлечения-игроков." data-toc-modified-id="Определяю-минимальную-и-максимальную-дату-привлечения-игроков.-2.1"><span class="toc-item-num">2.1&nbsp;&nbsp;</span>Определяю минимальную и максимальную дату привлечения игроков.</a></span></li><li><span><a href="#Смотрю-распределение-событий-по-датам." data-toc-modified-id="Смотрю-распределение-событий-по-датам.-2.2"><span class="toc-item-num">2.2&nbsp;&nbsp;</span>Смотрю распределение событий по датам.</a></span></li><li><span><a href="#Определяю,-какие-объекты-чаще-строят-игроки." data-toc-modified-id="Определяю,-какие-объекты-чаще-строят-игроки.-2.3"><span class="toc-item-num">2.3&nbsp;&nbsp;</span>Определяю, какие объекты чаще строят игроки.</a></span></li><li><span><a href="#Смотрю-распределение-построек-по-датам." data-toc-modified-id="Смотрю-распределение-построек-по-датам.-2.4"><span class="toc-item-num">2.4&nbsp;&nbsp;</span>Смотрю распределение построек по датам.</a></span></li><li><span><a href="#Определяю,-какую-стратегию-прохождения-чаще-используют-пользователи." data-toc-modified-id="Определяю,-какую-стратегию-прохождения-чаще-используют-пользователи.-2.5"><span class="toc-item-num">2.5&nbsp;&nbsp;</span>Определяю, какую стратегию прохождения чаще используют пользователи.</a></span></li><li><span><a href="#Определяю,-какая-стратегия-игрока-потенциально-принесет-больше-средств." data-toc-modified-id="Определяю,-какая-стратегия-игрока-потенциально-принесет-больше-средств.-2.6"><span class="toc-item-num">2.6&nbsp;&nbsp;</span>Определяю, какая стратегия игрока потенциально принесет больше средств.</a></span></li><li><span><a href="#Определяю-по-каким-рекламным-каналам-шло-привлечение-пользователей." data-toc-modified-id="Определяю-по-каким-рекламным-каналам-шло-привлечение-пользователей.-2.7"><span class="toc-item-num">2.7&nbsp;&nbsp;</span>Определяю по каким рекламным каналам шло привлечение пользователей.</a></span></li><li><span><a href="#Определяю,-какие-каналы-приносят-больше-игроков,-строящих-больше-всего-объектов." data-toc-modified-id="Определяю,-какие-каналы-приносят-больше-игроков,-строящих-больше-всего-объектов.-2.8"><span class="toc-item-num">2.8&nbsp;&nbsp;</span>Определяю, какие каналы приносят больше игроков, строящих больше всего объектов.</a></span></li><li><span><a href="#Определяю,-cреднее-количество-объектов,-построенных-одним-игроком-/-одним-игроком-по-источникам." data-toc-modified-id="Определяю,-cреднее-количество-объектов,-построенных-одним-игроком-/-одним-игроком-по-источникам.-2.9"><span class="toc-item-num">2.9&nbsp;&nbsp;</span>Определяю, cреднее количество объектов, построенных одним игроком / одним игроком по источникам.</a></span></li><li><span><a href="#Определяю,-сколько-денег-потратили-всего-/-на-каждый-источник-/-по-времени." data-toc-modified-id="Определяю,-сколько-денег-потратили-всего-/-на-каждый-источник-/-по-времени.-2.10"><span class="toc-item-num">2.10&nbsp;&nbsp;</span>Определяю, сколько денег потратили всего / на каждый источник / по времени.</a></span></li><li><span><a href="#Определяю,-сколько-в-среднем-стоило-привлечение-одного-покупателя-/-одного-покупателя-из-каждого-источника." data-toc-modified-id="Определяю,-сколько-в-среднем-стоило-привлечение-одного-покупателя-/-одного-покупателя-из-каждого-источника.-2.11"><span class="toc-item-num">2.11&nbsp;&nbsp;</span>Определяю, сколько в среднем стоило привлечение одного покупателя / одного покупателя из каждого источника.</a></span></li><li><span><a href="#Получаю-профили-пользователей." data-toc-modified-id="Получаю-профили-пользователей.-2.12"><span class="toc-item-num">2.12&nbsp;&nbsp;</span>Получаю профили пользователей.</a></span></li><li><span><a href="#Смотрю-распределение-игроков-по-количеству-дней-до-завершения-уровня." data-toc-modified-id="Смотрю-распределение-игроков-по-количеству-дней-до-завершения-уровня.-2.13"><span class="toc-item-num">2.13&nbsp;&nbsp;</span>Смотрю распределение игроков по количеству дней до завершения уровня.</a></span></li><li><span><a href="#Сравниваю-среднее-время-на-проходжение-уровня-по-источникам." data-toc-modified-id="Сравниваю-среднее-время-на-проходжение-уровня-по-источникам.-2.14"><span class="toc-item-num">2.14&nbsp;&nbsp;</span>Сравниваю среднее время на проходжение уровня по источникам.</a></span></li><li><span><a href="#Смотрю-распределение-игроков-по-количеству-дней-проведенных-в-игре." data-toc-modified-id="Смотрю-распределение-игроков-по-количеству-дней-проведенных-в-игре.-2.15"><span class="toc-item-num">2.15&nbsp;&nbsp;</span>Смотрю распределение игроков по количеству дней проведенных в игре.</a></span></li><li><span><a href="#Смотрю-распределение-игроков-по-количеству-дней-проведенных-в-игре-с-разбивкой-по-источникам." data-toc-modified-id="Смотрю-распределение-игроков-по-количеству-дней-проведенных-в-игре-с-разбивкой-по-источникам.-2.16"><span class="toc-item-num">2.16&nbsp;&nbsp;</span>Смотрю распределение игроков по количеству дней проведенных в игре с разбивкой по источникам.</a></span></li><li><span><a href="#Смотрю,-влияет-ли-источник-перехода-в-игру-на-способ-прохождения-уровня." data-toc-modified-id="Смотрю,-влияет-ли-источник-перехода-в-игру-на-способ-прохождения-уровня.-2.17"><span class="toc-item-num">2.17&nbsp;&nbsp;</span>Смотрю, влияет ли источник перехода в игру на способ прохождения уровня.</a></span></li></ul></li><li><span><a href="#Шаг-3.-Проверяю-статистические-гипотезы." data-toc-modified-id="Шаг-3.-Проверяю-статистические-гипотезы.-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Шаг 3. Проверяю статистические гипотезы.</a></span><ul class="toc-item"><li><span><a href="#Гипотеза-1.-Время-завершения-уровня-различается-в-зависимости-от-способа-прохождения." data-toc-modified-id="Гипотеза-1.-Время-завершения-уровня-различается-в-зависимости-от-способа-прохождения.-3.1"><span class="toc-item-num">3.1&nbsp;&nbsp;</span>Гипотеза 1. Время завершения уровня различается в зависимости от способа прохождения.</a></span></li><li><span><a href="#Гипотеза-2.-Способ-прохождения-уровня-различается-в-зависимости-от-источника-перехода-в-игру." data-toc-modified-id="Гипотеза-2.-Способ-прохождения-уровня-различается-в-зависимости-от-источника-перехода-в-игру.-3.2"><span class="toc-item-num">3.2&nbsp;&nbsp;</span>Гипотеза 2. Способ прохождения уровня различается в зависимости от источника перехода в игру.</a></span></li></ul></li><li><span><a href="#Общий-вывод." data-toc-modified-id="Общий-вывод.-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>Общий вывод.</a></span><ul class="toc-item"><li><span><a href="#Рекомендации." data-toc-modified-id="Рекомендации.-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>Рекомендации.</a></span></li></ul></li></ul></div>

### Описание проекта:
В мобильной игре «Космические братья» пользователи строят свою космическую программу и пытаются преуспеть в нелёгком деле колонизации галактики. Игра уже пользуется большой популярностью - настало время на ней зарабатывать. Основная монетизация игры - только планируется. Но предполагается, что в приложении будет происходить показ рекламы на экране с выбором типа объекта для постройки. Основная задача: анализ рекламных источников. 

### Описание данных:
Основной датасет содержит данные о событиях, совершенных в мобильной игре «Космические братья». В датасете представлены данные по игре пользователей на первом уровне. Завершение первого уровня требует от игрока выполнения одного из двух условий:
- Победа над первым врагом;
- Реализация проекта - разработка орбитальной сборки спутников.

В датасете содержатся данные первых пользователей приложения - когорты пользователей, которые начали пользоваться приложением в период с 4 по 10 мая включительно. Помимо основного датасета есть два датасета с информацией о рекламных активностях.

Датасет `game_actions.csv` содержит:

- **`event_datetime`** - время события;
- **`event`** - одно из трёх событий:
    - `building` - объект построен,
    - `finished_stage_1` - первый уровень завершён,
    - `project` - проект завершён;
- **`building_type`** - один из трёх типов здания:
    - `assembly_shop` - сборочный цех,
    - `spaceport` - космопорт,
    - `research_center` - исследовательский центр;
- **`user_id`** - идентификатор пользователя;
- **`project_type`** - тип реализованного проекта.

Датасет `ad_costs.csv` содержит:
- **`day`** - день, в который был совершен клик по объявлению;
- **`source`** - источник трафика;
- **`cost`** - стоимость кликов.

Датасет `user_source.csv` содержит:
- **`user_id`** - идентификатор пользователя;
- **`source`** - источников, с которого пришёл пользователь, установивший приложение.
***
## Общий вывод.
В трех имеющихся датасетах необоснованно пропущенных значений нет. Был всего 1 явный дубликат. Типы данных соответствуют содержимому столбцов. Данные изначально очень хорошего качества.

В ходе исследовательского анализа удалось выяснить, что:

Датасет от **4 мая 2020** до **5 июня 2020**, то есть данные за **33** дня.

Всего в игре произошло **135640** событий. Максимальное количество событий пройденных игроком - **22**. Самое популярное событие - **building** (завершение строительства объекта), оно произошло **127956** раз. Это

- **spaceport (космопорт)** - **59325** событий (**46,4%**). Наблюдаются на протяжении всего периода, пик приходится на 11 мая;
- **assembly_shop (сборочный цех)** - **54494** события (**42,6%**). Можно предположить, что это первый объект, который необходимо построить в игре. Такой тип объекта наблюдается только в первую неделю с начала игры, и каждый день количество таких объектов примерно одинаково;
- **research_center (исследовательский центр)** - **14137** событий (**11%**). Начинает встречаться на третий день с начала игры. Можно предположить, что к его строительству можно приступать только после строительства первых двух типов. Вероятно оно не является обязательным.

В игре **13576** уникальных игроков. Это

- **1866** игроков (**13.7%**), реализовавших проект и победивших врага. Суммарное значение построенных ими объектов - **23601**, среднее - **12.6**, медианное - **12**, пик завершивших уровень 15 мая;
- **3951** игрок (**29.1%**), победивший врага. Суммарное значение построенных ими объектов - **37185**, среднее - **9.4**, медианное - **10**, пик завершивших уровень 16 мая;
- **7759** игроков (**29.1%**), не завершивших прохождение первого уровня. Суммарное значение построенных ими объектов - **67170**, среднее - **8.7**, медианное - **8**. 

То есть стратегию завершения уровня победой над врагом использует в два раза больше игроков.

Есть 4 канала привлечения:

- **yandex_direct** - **4817** игроков (**35.5%**), из них **1422** (**29.5%**) победили врага, **620** (**12.9%**) реализовали проект, а **2775** (**57.6%**) не завершили уровень. Количество построенных ими объектов - **45032**;
- **instagram_new_adverts** - **3347** игроков (**24.7%**), из них **990** (**29.6%**) победили врага, **476** (**14.2%**) реализовали проект, а **1881** (**56.2%**) не завершили уровень. Количество построенных ими объектов - **31815**;
- **facebook_ads** - **2726** игроков (**20.1%**), из них **759** (**27.8%**) победили врага, **391** (**14.3%**) реализовали проект, а **1576** (**57.8%**) не завершили уровень. Количество построенных ими объектов - **26131**;
- **youtube_channel_reklama** - **2686** игроков (**19.8%**), из них **780** (**29%**) победили врага, **379** (**14.1%**) реализовали проект, а **1527** (**56.9%**) не завершили уровень. Количество построенных ими объектов - **24978**.

Можно отметить, что в **facebook_ads** доля завершивших проект победой чуть ниже, чем в остальных источниках, а доли реализовавших проект и не завершивших уровень выше. А также в **yandex_direct** доля реализовавших проект значительно ниже, чем в остальных источниках, а доля не завершивших уровень чуть выше. 

Можно сказать, что в среднем количество объектов, построенных одним игроком, что в общем, что по каналам привлечения примерно одиниково - **9**. Но из **facebook_ads** результат чуть выше остальных. В среднем как по всем источникам, так и в общем, время в игре примерно одинаково - 12 дней. В общем, количество игроков покинувших игру растет каждый день до пика на 12 день, после чего постепенно идет на спад. Если распределение среди завершивших уровень похоже на нормальное, то среди незавершивших наблюдаются всплески. По каналам наблюдаются всплески. Количество игроков покинувших игру растет каждый день до пика на 10-11 день, после чего постепенно идет на спад. У **facebook_ads**, **yandex_direct** и **youtube_channel_reklama** на протяжении всего периода, больше покидают игру игроки незавершившие уровень. У **instagram_new_adverts** с 13 дня, больше покидают игру игроки завершившие уровень.

Органических пользователей нет вообще. Самым эффективным каналом привлечения является **yandex_direct**.

Всего на привлечение потрачено - **7603.58**. Средняя стоимость привлечения одного покупателя -**0.573**.

- **youtube_channel_reklama** - **1068.12** (**14%**). Средняя стоимость привлечения одного покупателя - **0.398**;
- **facebook_ads** - **2140.90** (**28%**). Средняя стоимость привлечения одного покупателя - **0.785**;
- **instagram_new_adverts** - **2161.44** (**28%**). Средняя стоимость привлечения одного покупателя - **0.646**;
- **yandex_direct** - **2233.11** (**29%**). Средняя стоимость привлечения одного покупателя - **0.464**.

Стоимость кликов колеблется от **23** до **969**, в среднем **272**, а по медиане **160**. Наибольшие затраты по всем источникам наблюдаются перед стартом игры, после чего, каждый следующий день, происходит постепенное снижение затрат. Затраты на **facebook_ads**, **instagram_new_adverts** и **yandex_direct** практически идентичны, затраты на **youtube_channel_reklama** значительно ниже.

Затем я проверил две статистические гипотезы, в ходе чего выяснил что:
- Среднее время завершения уровня через проект и через победу не равны, среднее время на завершение уровня через проект больше.
- Способ прохождения уровня различается в зависимости от источника перехода в игру.

### Рекомендации.
Следует перераспределить рекламный бюджет от слишком дорогого **facebook_ads** к самому эффективному **yandex_direct** и самому дешевому **youtube_channel_reklama**. 

Также следует поработать над удержанием игроков в игре. Возможно разнообразить геймплей. 

[Дашборд](https://public.tableau.com/app/profile/evgeny.babaevsky/viz/space_brothers_16638757878190/Dashboard1), [Презентация](https://disk.yandex.ru/i/ybGHlZU06ka4RA)
