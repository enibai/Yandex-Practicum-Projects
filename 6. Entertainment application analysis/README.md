# Анализ развлекательного приложения.

<h1>Оглавление:<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><ul class="toc-item"><li><span><a href="#Описание-проекта:" data-toc-modified-id="Описание-проекта:-0.1"><span class="toc-item-num">0.1&nbsp;&nbsp;</span>Описание проекта:</a></span></li><li><span><a href="#Описание-данных:" data-toc-modified-id="Описание-данных:-0.2"><span class="toc-item-num">0.2&nbsp;&nbsp;</span>Описание данных:</a></span></li></ul></li><li><span><a href="#Шаг-1.-Импортирую-необходимые-библиотеки,-открываю-файлы-с-данными-и-изучаю-общую-информацию." data-toc-modified-id="Шаг-1.-Импортирую-необходимые-библиотеки,-открываю-файлы-с-данными-и-изучаю-общую-информацию.-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Шаг 1. Импортирую необходимые библиотеки, открываю файлы с данными и изучаю общую информацию.</a></span><ul class="toc-item"><li><span><a href="#Исправляю-стиль-в-заголовках-столбцов." data-toc-modified-id="Исправляю-стиль-в-заголовках-столбцов.-1.1"><span class="toc-item-num">1.1&nbsp;&nbsp;</span>Исправляю стиль в заголовках столбцов.</a></span></li></ul></li><li><span><a href="#Шаг-2.-Задаю-функции-для-создания-пользовательских-профилей,-расчета-и-анализа-LTV,-ROI,-удержания-и-конверсии." data-toc-modified-id="Шаг-2.-Задаю-функции-для-создания-пользовательских-профилей,-расчета-и-анализа-LTV,-ROI,-удержания-и-конверсии.-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Шаг 2. Задаю функции для создания пользовательских профилей, расчета и анализа LTV, ROI, удержания и конверсии.</a></span><ul class="toc-item"><li><span><a href="#Функция-для-создания-пользовательских-профилей." data-toc-modified-id="Функция-для-создания-пользовательских-профилей.-2.1"><span class="toc-item-num">2.1&nbsp;&nbsp;</span>Функция для создания пользовательских профилей.</a></span></li><li><span><a href="#Функция-для-расчёта-колличества-и-доли-платящих-пользователей." data-toc-modified-id="Функция-для-расчёта-колличества-и-доли-платящих-пользователей.-2.2"><span class="toc-item-num">2.2&nbsp;&nbsp;</span>Функция для расчёта колличества и доли платящих пользователей.</a></span></li><li><span><a href="#Функция-для-расчёта-удержания." data-toc-modified-id="Функция-для-расчёта-удержания.-2.3"><span class="toc-item-num">2.3&nbsp;&nbsp;</span>Функция для расчёта удержания.</a></span></li><li><span><a href="#Функция-для-расчёта-конверсии." data-toc-modified-id="Функция-для-расчёта-конверсии.-2.4"><span class="toc-item-num">2.4&nbsp;&nbsp;</span>Функция для расчёта конверсии.</a></span></li><li><span><a href="#Функция-для-расчёта-LTV-и-ROI." data-toc-modified-id="Функция-для-расчёта-LTV-и-ROI.-2.5"><span class="toc-item-num">2.5&nbsp;&nbsp;</span>Функция для расчёта LTV и ROI.</a></span></li><li><span><a href="#Функция-для-сглаживания-фрейма." data-toc-modified-id="Функция-для-сглаживания-фрейма.-2.6"><span class="toc-item-num">2.6&nbsp;&nbsp;</span>Функция для сглаживания фрейма.</a></span></li><li><span><a href="#Функция-для-визуализации-удержания." data-toc-modified-id="Функция-для-визуализации-удержания.-2.7"><span class="toc-item-num">2.7&nbsp;&nbsp;</span>Функция для визуализации удержания.</a></span></li><li><span><a href="#Функция-для-визуализации-конверсии." data-toc-modified-id="Функция-для-визуализации-конверсии.-2.8"><span class="toc-item-num">2.8&nbsp;&nbsp;</span>Функция для визуализации конверсии.</a></span></li><li><span><a href="#Функция-для-визуализации-LTV-и-ROI." data-toc-modified-id="Функция-для-визуализации-LTV-и-ROI.-2.9"><span class="toc-item-num">2.9&nbsp;&nbsp;</span>Функция для визуализации LTV и ROI.</a></span></li></ul></li><li><span><a href="#Шаг-3.-Провожу-исследовательский-анализ-данных." data-toc-modified-id="Шаг-3.-Провожу-исследовательский-анализ-данных.-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Шаг 3. Провожу исследовательский анализ данных.</a></span><ul class="toc-item"><li><span><a href="#Получаю-профили-пользователей." data-toc-modified-id="Получаю-профили-пользователей.-3.1"><span class="toc-item-num">3.1&nbsp;&nbsp;</span>Получаю профили пользователей.</a></span></li><li><span><a href="#Определяю-минимальную-и-максимальную-дату-привлечения-пользователей." data-toc-modified-id="Определяю-минимальную-и-максимальную-дату-привлечения-пользователей.-3.2"><span class="toc-item-num">3.2&nbsp;&nbsp;</span>Определяю минимальную и максимальную дату привлечения пользователей.</a></span></li><li><span><a href="#Определяю-из-каких-стран-приходят-посетители.-Какие-страны-дают-больше-всего-платящих-пользователей." data-toc-modified-id="Определяю-из-каких-стран-приходят-посетители.-Какие-страны-дают-больше-всего-платящих-пользователей.-3.3"><span class="toc-item-num">3.3&nbsp;&nbsp;</span>Определяю из каких стран приходят посетители. Какие страны дают больше всего платящих пользователей.</a></span></li><li><span><a href="#Определяю-какими-устройствами-они-пользуются.-С-каких-устройств-чаще-всего-заходят-платящие-пользователи." data-toc-modified-id="Определяю-какими-устройствами-они-пользуются.-С-каких-устройств-чаще-всего-заходят-платящие-пользователи.-3.4"><span class="toc-item-num">3.4&nbsp;&nbsp;</span>Определяю какими устройствами они пользуются. С каких устройств чаще всего заходят платящие пользователи.</a></span></li><li><span><a href="#Определяю-по-каким-рекламным-каналам-шло-привлечение-пользователей.-Какие-каналы-приносят-больше-всего-платящих-пользователей." data-toc-modified-id="Определяю-по-каким-рекламным-каналам-шло-привлечение-пользователей.-Какие-каналы-приносят-больше-всего-платящих-пользователей.-3.5"><span class="toc-item-num">3.5&nbsp;&nbsp;</span>Определяю по каким рекламным каналам шло привлечение пользователей. Какие каналы приносят больше всего платящих пользователей.</a></span></li></ul></li><li><span><a href="#Шаг-4.-Маркетинг." data-toc-modified-id="Шаг-4.-Маркетинг.-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>Шаг 4. Маркетинг.</a></span><ul class="toc-item"><li><span><a href="#Выясняю,-сколько-денег-потратили-всего-/-на-каждый-источник-/-по-времени." data-toc-modified-id="Выясняю,-сколько-денег-потратили-всего-/-на-каждый-источник-/-по-времени.-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>Выясняю, сколько денег потратили всего / на каждый источник / по времени.</a></span></li><li><span><a href="#Выясняю,-сколько-в-среднем-стоило-привлечение-одного-покупателя." data-toc-modified-id="Выясняю,-сколько-в-среднем-стоило-привлечение-одного-покупателя.-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>Выясняю, сколько в среднем стоило привлечение одного покупателя.</a></span></li><li><span><a href="#Выясняю,-сколько-в-среднем-стоило-привлечение-одного-покупателя-из-каждого-источника." data-toc-modified-id="Выясняю,-сколько-в-среднем-стоило-привлечение-одного-покупателя-из-каждого-источника.-4.3"><span class="toc-item-num">4.3&nbsp;&nbsp;</span>Выясняю, сколько в среднем стоило привлечение одного покупателя из каждого источника.</a></span></li></ul></li><li><span><a href="#Шаг-5.-Оцениваю-окупаемость-рекламы-для-привлечения-пользователей." data-toc-modified-id="Шаг-5.-Оцениваю-окупаемость-рекламы-для-привлечения-пользователей.-5"><span class="toc-item-num">5&nbsp;&nbsp;</span>Шаг 5. Оцениваю окупаемость рекламы для привлечения пользователей.</a></span><ul class="toc-item"><li><span><a href="#Анализирую-общую-окупаемость-рекламы." data-toc-modified-id="Анализирую-общую-окупаемость-рекламы.-5.1"><span class="toc-item-num">5.1&nbsp;&nbsp;</span>Анализирую общую окупаемость рекламы.</a></span></li><li><span><a href="#Анализирую-окупаемость-рекламы-с-разбивкой-по-устройствам." data-toc-modified-id="Анализирую-окупаемость-рекламы-с-разбивкой-по-устройствам.-5.2"><span class="toc-item-num">5.2&nbsp;&nbsp;</span>Анализирую окупаемость рекламы с разбивкой по устройствам.</a></span></li><li><span><a href="#Анализирую-окупаемость-рекламы-с-разбивкой-по-странам." data-toc-modified-id="Анализирую-окупаемость-рекламы-с-разбивкой-по-странам.-5.3"><span class="toc-item-num">5.3&nbsp;&nbsp;</span>Анализирую окупаемость рекламы с разбивкой по странам.</a></span></li><li><span><a href="#Анализирую-окупаемость-рекламы-с-разбивкой-по-рекламным-каналам." data-toc-modified-id="Анализирую-окупаемость-рекламы-с-разбивкой-по-рекламным-каналам.-5.4"><span class="toc-item-num">5.4&nbsp;&nbsp;</span>Анализирую окупаемость рекламы с разбивкой по рекламным каналам.</a></span></li><li><span><a href="#Анализирую-окупаемость-рекламы,-конверсию-и-удержание-пользователей-с-разбивкой-по-рекламным-каналам-для-United-States." data-toc-modified-id="Анализирую-окупаемость-рекламы,-конверсию-и-удержание-пользователей-с-разбивкой-по-рекламным-каналам-для-United-States.-5.5"><span class="toc-item-num">5.5&nbsp;&nbsp;</span>Анализирую окупаемость рекламы, конверсию и удержание пользователей с разбивкой по рекламным каналам для United States.</a></span></li></ul></li><li><span><a href="#Общий-вывод:" data-toc-modified-id="Общий-вывод:-6"><span class="toc-item-num">6&nbsp;&nbsp;</span>Общий вывод:</a></span><ul class="toc-item"><li><span><a href="#Рекомендации-для-отдела-маркетинга-для-повышения-эффективности:" data-toc-modified-id="Рекомендации-для-отдела-маркетинга-для-повышения-эффективности:-6.1"><span class="toc-item-num">6.1&nbsp;&nbsp;</span>Рекомендации для отдела маркетинга для повышения эффективности:</a></span></li></ul></li></ul></div>

### Описание проекта:
Заказчик - развлекательное приложение. Несколько прошлых месяцев бизнес постоянно нес убытки - в привлечение пользователей была вложена куча денег, а толку никакого. Нужно разобраться в причинах этой ситуации.

В моем распоряжении есть лог сервера с данными о посещениях приложения новыми пользователями, зарегистрировавшимися в период с 1 мая 2019 по 27 октября 2019, выгрузка их покупок за этот период, а также статистика рекламных расходов. Предстоит изучить, как люди пользуются продуктом, когда они начинают покупать, сколько денег приносит каждый клиент, когда он окупается и какие факторы отрицательно влияют на привлечение пользователей.

### Описание данных:
Датасет `visits_log_short` (лог сервера с информацией о посещениях сайта) содержит:
- **`user_id`** - уникальный идентификатор пользователя;
- **`device`** -  категория устройства пользователя;
- **`session_start`** -  дата и время начала сессии;
- **`session_end`** -  дата и время окончания сессии;
- **`channel`** -  идентификатор рекламного источника, из которого пришел пользователь;
- **`region`** -  страна пользователя.

Датасет `orders_log_short` (информация о заказах) содержит:
- **`user_id`** -  уникальный id пользователя, который сделал заказ;
- **`event_dt`** -  дата и время покупки;
- **`revenue`** -  выручка.

Датасет `costs_short` (информация о затратах на маркетинг) содержит:
- **`channel`** -  идентификатор рекламного источника;
- **`dt`** -  дата;
- **`costs`** -  затраты на этот рекламный источник в этот день.
***
## Общий вывод:
Я получил данные, загрузил их, исправил стиль названия столбцов, задал функции необходимые для анализа и визуализации и приступил к анализу. 

В ходе анализа я выяснил что больше всего платящих пользователей из **United States**, пользуются устройствами на базе **iPhone**, их приносят каналы **FaceBoom** и **TipTop**. 

Но проведя общий анализ окупаемости рекламы и дополнительный анализ с разбивкой по устройствам, странам и рекламным каналам, я выяснил что:
- В целом реклама не окупается. ROI чуть больше 80% только на 14й день. 
- CAC нестабилен. Прослеживается сильное увеличение затрат на привлечене клиентов.
- Не окупаются пользователи **Android**, **iPhone** и **Mac**, хотя на привлечение **iPhone** и **Mac** тратится больше всего средств. Также они показывают худшее удержание. Скорее всего проблема в неудачном выборе рекламных каналов.
- Реклама не окупается в **United States**, хотя стоимость привлечения для неё сильно выше, чем для других стран. **United States** показывает самую высокую конверсию, но удержание заметно ниже, чем у других стран.
- Не окупается реклама из каналов **TipTop**, **FaceBoom** и **AdNonSense**. **TipTop** из-за высокой стоимости привлечения, а **FaceBoom** и **AdNonSense** из-за низкого удержания. Дополнительный анализ показал, что реклама в **United States** не окупается из-за каналов **TipTop** и **FaceBoom** по тем же причинам.

### Рекомендации для отдела маркетинга для повышения эффективности:
- отказаться от рекламных каналов **TipTop**, **FaceBoom** и **AdNonSense**;
- перераспределить рекламный бюджет например в пользу **lambdaMediaAds**, **YRabbit**, **MediaTornado** или **RocketSuperAds**;
- на всякий случай проверить оптимизацию приложений для **Android**, **iPhone** и **Mac**;
- можно также увеличить рекламный бюждет для стран **United States** и **UK** и устойств **Mac** и **iPhone**.
